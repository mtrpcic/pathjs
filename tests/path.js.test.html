<!DOCTYPE HTML>
<html>
	<head>
		<title>PathJS Test</title>
		<script type="text/javascript" src="../path.js"></script>
		<script type="text/javascript" src="test_script.js"></script>
		
		<style type="text/css">
		    body {font-family: arial;}
		    p {width: 600px; text-align: justify;}
		    table {font-family: courier;}
		</style>
	</head>
	<body onload="define_routes();">
	    <div id="description">
		    <h2>Test Suite</h2>
			<p>
			    Path.js uses a very straightforward method of testing.  We manually construct
				a series of method calls that the library should execute under normal working
				conditions.  We then use JavaScript to simulate the URL changes, and compare
				the final result with what the result should actually be.  If the end result
				is anything but perfect, the test is a failure, and this version of Path.JS
				is not suitable for use. The expected test results are as follows:
			</p>
			<table>
			    <tr><td><b>Token</b></td>          <td><b>Reason</b></td></tr>
			        <tr><td>RESCUE</td>                <td>This page should be launched from index.html, which will use an invalid hash, triggering a rescue</td></tr>
			<!--	<tr><td>F[enter]</td>              <td>Enter method of F, as it is root</td></tr>
				<tr><td>F[action]</td>             <td>True action of F, as it is root</td></tr> Need a more comprehensive test suite, so that we can test this separately from the Rescue on load bug-->
				<tr><td>A[enter]</td>              <td>Enter method of A, as it is looped</td></tr>
				<tr><td>A[action]</td>             <td>True action of A, as it is looped</td></tr>
				<tr><td>A[exit]</td>               <td>Exit method of A, as we move to next route</td></tr>
				<tr><td>B[enter]</td>              <td>Enter method of B, as it is looped</td></tr>
				<tr><td>B[action]</td>             <td>True action of B, as it is looped</td></tr>
				<tr><td>C[action]</td>             <td>True action of C</td></tr>
				<tr><td>C[exit]</td>               <td>Exit method of C, as we move to next route</td></tr>
				<tr><td>RESCUE</td>                <td>Rescue a route that wasn't found</td></tr>
				<tr><td>E[enter](parse)</td>       <td>Enter method of a param parsed route</td></tr>
				<tr><td>E[action](parse id=1)</td> <td>True action of the route, with param of id=1</td></tr>
				<tr><td>E[enter](parse)</td>       <td>Enter method of the same route again</td></tr>
				<tr><td>E[action](parse id=2)</td> <td>True action of the route, with param of id=2</td></tr>
				<tr><td>E[action](check id=3)</td> <td>True action of the next route, with param id=3</td></tr>
				<tr><td>E[exit](check)</td>        <td>Exit method of parameterized route</td></tr>
				<tr><td>F[enter]</td>              <td>Enter method of F again, our final route</td></tr>
				<tr><td>F[action]</td>             <td>True action of F, our final route</td></tr>
				<tr><td>G[enter 1]</td>            <td>First enter method of G</td></tr>
				<tr><td>G[enter 2]</td>            <td>Second enter method of G</td></tr>
				<tr><td>G[enter 3]</td>            <td>Third enter method of G</td></tr>
				<tr><td>G[enter 4]</td>            <td>Last enter method of G - Returns false, stops execution</td></tr>
			</table>
			
		</div><br /><br />
		<div id="console">
		    <h3>Expected</h3>
		    <div id="expected">RESCUE::A[enter]::A[action]::A[exit]::B[enter]::B[action]::C[action]::C[exit]::RESCUE::E[enter](parse)::E[action](parse id=1)::E[enter](parse)::E[action](parse id=2)::E[action](check id=3)::E[exit](check)::F[enter]::F[action]::G[enter 1]::G[enter 2]::G[enter 3]::G[enter 4]</div>
			<h3>Actual</h3>
			<div id="actual"></div>
			<h3>Grade</h3>
			<div id="grade"></div>
		</div>
	</body>
</html>
